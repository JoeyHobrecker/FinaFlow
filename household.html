<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Household - Task Manager</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="dexie.min.js" defer></script>
    <script src="app.js" defer></script>
</head>
<body>
    <div class="app-container">
        <header>
            <div class="logo-wrapper">
                <a href="index.html" class="back-btn action-btn"><i class="fas fa-arrow-left"></i> Back</a>
                <span class="logo-text">Household</span>
            </div>
        </header>

        <main class="main-content-full-width">
            <div class="page-tabs">
                <button id="shopping-tab-btn" class="tab-btn active">Shopping</button>
                <button id="cleaning-tab-btn" class="tab-btn">Cleaning</button>
            </div>

            <!-- Shopping Content -->
            <div id="shopping-content" class="tab-content">
                <div class="page-tabs-secondary">
                    <button id="shopping-active-btn" class="tab-btn-secondary active">Active List</button>
                    <button id="shopping-wishlist-btn" class="tab-btn-secondary">Wishlist</button>
                    <button id="shopping-completed-btn" class="tab-btn-secondary">Completed</button>
                </div>
                <div id="shopping-lists-container">
                    <div class="shopping-list-column">
                        <h3><i class="fas fa-store"></i> Physical Stores</h3>
                        <div class="add-item-form-container">
                            <input type="text" class="add-shopping-item-input" data-list-type="physical" placeholder="Add item...">
                        </div>
                        <div class="shopping-list" id="physical-shopping-list"></div>
                    </div>
                    <div class="shopping-list-column">
                        <h3><i class="fas fa-laptop"></i> Online Shopping</h3>
                         <div class="add-item-form-container">
                            <input type="text" class="add-shopping-item-input" data-list-type="online" placeholder="Add item...">
                        </div>
                        <div class="shopping-list" id="online-shopping-list"></div>
                    </div>
                </div>
                 <div id="wishlist-container" class="hidden">
                    <h3><i class="fas fa-gift"></i> Wishlist</h3>
                    <div class="shopping-list" id="wishlist-list"></div>
                </div>
                <div id="completed-shopping-container" class="hidden">
                    <h3><i class="fas fa-check"></i> Recently Purchased</h3>
                    <button id="clear-completed-shopping-btn" class="action-btn">Clear All</button>
                    <div class="shopping-list" id="completed-shopping-list"></div>
                </div>
            </div>

            <!-- Cleaning Content -->
            <div id="cleaning-content" class="tab-content hidden">
                <h3>Cleaning Map</h3>
                <div id="cleaning-map-container">
                    <div id="cleaning-map"></div>
                    <div class="cleaning-map-controls">
                        <button id="add-cleaning-area-btn" class="action-btn"><i class="fas fa-plus"></i> Add Area</button>
                        <button id="edit-cleaning-map-btn" class="action-btn"><i class="fas fa-edit"></i> Edit Layout</button>
                    </div>
                </div>
                <h3>Recurring Tasks</h3>
                <div class="action-buttons-toolbar">
                    <button id="add-cleaning-task-btn" class="action-btn"><i class="fas fa-plus"></i> Add Task</button>
                </div>
                <div id="cleaning-tasks-list"></div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <div id="edit-shopping-item-modal" class="modal"><div class="modal-content">
        <div class="modal-header"><h2>Edit Item</h2><span class="close-modal">&times;</span></div>
        <div class="modal-body"><form id="edit-shopping-item-form">
            <input type="hidden" id="edit-shopping-item-id">
            <div class="form-group"><label for="edit-shopping-item-title">Item</label><input type="text" id="edit-shopping-item-title" required></div>
            <div class="form-group"><label for="edit-shopping-item-desc">Description</label><textarea id="edit-shopping-item-desc"></textarea></div>
            <div class="form-group"><label for="edit-shopping-item-tags">Tags</label><input type="text" id="edit-shopping-item-tags"></div>
            <div class="form-group"><label for="edit-shopping-item-deadline">Needed By</label><input type="date" id="edit-shopping-item-deadline"></div>
            <div class="form-group"><label><input type="checkbox" id="edit-shopping-item-wishlist"> Wishlist Item</label></div>
            <div class="form-actions"><button type="button" id="delete-shopping-item-btn" class="delete-btn">Delete</button><button type="button" class="cancel-btn">Cancel</button><button type="submit" class="submit-btn">Save</button></div>
        </form></div>
    </div></div>
    <div id="add-cleaning-area-modal" class="modal"><div class="modal-content">
        <div class="modal-header"><h2>Add Cleaning Area</h2><span class="close-modal">&times;</span></div>
        <div class="modal-body"><form id="add-cleaning-area-form">
            <div class="form-group"><label for="cleaning-area-name">Area Name</label><input type="text" id="cleaning-area-name" required></div>
            <div class="form-group"><label for="cleaning-area-frequency">Clean Every (days)</label><input type="number" id="cleaning-area-frequency" required></div>
            <div class="form-actions"><button type="button" class="cancel-btn">Cancel</button><button type="submit" class="submit-btn">Add</button></div>
        </form></div>
    </div></div>
    <div id="add-cleaning-task-modal" class="modal"><div class="modal-content">
        <div class="modal-header"><h2>Add Cleaning Task</h2><span class="close-modal">&times;</span></div>
        <div class="modal-body"><form id="add-cleaning-task-form">
            <div class="form-group"><label for="cleaning-task-title">Task</label><input type="text" id="cleaning-task-title" required></div>
            <div class="form-group"><label for="cleaning-task-frequency">Repeat Every (days)</label><input type="number" id="cleaning-task-frequency" required></div>
            <div class="form-actions"><button type="button" class="cancel-btn">Cancel</button><button type="submit" class="submit-btn">Add</button></div>
        </form></div>
    </div></div>
    
    <div id="toast-container"></div>
</body>
</html>
